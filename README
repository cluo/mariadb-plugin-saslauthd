auth_saslauthd.so is a MariaDB plugin that authenticates database users with
saslauthd against the system password database.

SECURE CONNECTIONS

saslauthd requires the passwords in clear text. Make sure that non-local
connections between your database clients and the server are secured with TLS.
See the MariaDB documentation for more information.

ENABLE SASLAUTHD

On Slackware Linux, enable the saslauthd daemon with:

  sudo chmod +x /etc/rc.d/rc.saslauthd
  sudo /etc/rc.d/rc.saslauthd start

On OpenBSD, install the cyrus-sasl package and enable the saslauthd daemon
with rcctl(8).

On Debian, install the sasl2-bin package, enable the saslauthd daemon and add
the mysql user to the sasl group.

PLUGIN INSTALLATION

To install the plugin, run the following commands:

  make OPTIMIZE="-O2" SASLAUTHD_PATH="/var/run/saslauthd/mux"
  sudo make install

Depending on your system the communications socket is named
/var/run/saslauthd/mux, /var/state/saslauthd/mux or /var/sasl2/mux.

Add the following settings to your database server's configuration:

  [mariadb]
  plugin-load-add=auth_saslauthd.so

Restart the database system and list the plugins:

  echo 'SHOW PLUGINS\G' | mysql -h localhost -u root -p

     Name: saslauthd
   Status: ACTIVE
     Type: AUTHENTICATION
  Library: auth_saslauthd.so
  License: BSD

DATABASE USERS

Add a database account for the system user "jennifer" as follows:

  CREATE USER 'jennifer'@'localhost' IDENTIFIED WITH saslauthd;

You can specify a different system user:

  CREATE USER 'jekyll'@'localhost' IDENTIFIED WITH saslauthd AS 'hyde';

And you can add a realm to the system user:

  CREATE USER 'david' IDENTIFIED WITH saslauthd AS 'david@EXAMPLE.COM';

Run the mysql command-line tool and enter the system user's password to
check the database account. Example:

  mysql -h localhost -u jennifer -p
  Enter password:

DEPENDENCIES

The plugin requires MariaDB and the saslauthd daemon from Cyrus SASL.

LICENSE AND COPYRIGHT

Copyright 2017 Andreas Voegele

This plugin is free software; you can redistribute it and/or modify it
under the terms of the ISC license.
